<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "com.spring.elderlycare.dao.MemberDAOImpl">

	<select id = "isExist" parameterType = "com.spring.elderlycare.dto.MemberDTO" resultType = "boolean">
		SELECT EXISTS(
			SELECT * FROM `user`
			WHERE uid = #{uid} AND upwd = #{upwd}
			);
	</select>
	<insert id = "insertMember" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	INSERT INTO `user`(uid, upwd, uname, utel, uemail, urole)
	VALUES(#{uid}, #{upwd}, #{uname}, #{utel}, #{uemail}, -1);
	</insert>
	<update id = "modifyMember" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	UPDATE `user` SET uname = #{uname}, utel = #{utel}, uemail = #{uemail};
	</update>
	<update id = "joinApproval" parameterType = "String">
	UPDATE `user` SET urole = 0 WHERE uid=#{value};
	</update>
	<delete id = "deleteMember" parameterType = "String">
	DELETE FROM `user` WHERE uid=#{value}; <!--  AND upwd = #{upwd};-->
	</delete>
	<select id = "selectOne" parameterType = "String" resultType = "com.spring.elderlycare.dto.MemberDTO">
	SELECT * FROM `user` WHERE uid = #{value};
	</select>
	

</mapper>