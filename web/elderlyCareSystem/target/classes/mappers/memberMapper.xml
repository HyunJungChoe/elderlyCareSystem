<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "com.spring.elderlycare.dao.MemberDAOImpl">

	<select id = "isExist" parameterType = "com.spring.elderlycare.dto.MemberDTO" resultType = "boolean">
		SELECT EXISTS(
			SELECT * FROM membe
			WHERE m_id = #{m_id} AND m_pwd = #{m_pwd}
			);
	</select>
	<insert id = "insertMember" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	INSERT INTO membe(m_id, m_pwd, m_name, m_tel, m_email, m_role)
	VALUES(#{m_id}, #{m_pwd}, #{m_name}, #{m_tel}, #{m_email}, -1);
	</insert>
	<update id = "modifyMember" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	UPDATE membe SET m_name = #{m_name}, m_tel = #{m_tel}, m_email = #{m_email};
	</update>
	<update id = "joinApproval" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	UPDATE membe SET m_role = 0;
	</update>
	<delete id = "deleteMember" parameterType = "com.spring.elderlycare.dto.MemberDTO">
	DELETE FROM membe WHERE m_id=#{m_id} AND m_pwd = #{m_pwd};
	</delete>
	<select id = "selectOne" parameterType = "String">
	SELECT * FROM membe WHERE m_id = #{value};
	</select>

</mapper>